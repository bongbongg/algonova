<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detektif Ukuran: Misi Rahasia</title>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Nunito:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #2d3436;
            background-image: repeating-linear-gradient(45deg, #2d3436 25%, transparent 25%, transparent 75%, #2d3436 75%, #2d3436), repeating-linear-gradient(45deg, #2d3436 25%, #202020 25%, #202020 75%, #2d3436 75%, #2d3436);
            background-position: 0 0, 10px 10px;
            background-size: 20px 20px;
            color: #dfe6e9;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            width: 90%;
            max-width: 600px;
            position: relative;
        }

        /* --- HEADER & SCORE --- */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: #0984e3;
            padding: 10px 20px;
            border-radius: 10px;
            border: 3px solid #74b9ff;
            box-shadow: 0 5px 0 #0056b3;
        }

        .badge {
            font-size: 1.5em;
        }

        /* --- AREA KASUS (FILE FOLDER) --- */
        .case-file {
            background: #f1f2f6;
            color: #2d3436;
            padding: 30px;
            border-radius: 5px;
            transform: rotate(-1deg);
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            position: relative;
            margin-bottom: 30px;
            border-top: 20px solid #ff9f43; /* Warna Folder */
        }

        .case-file::before {
            content: "RAHASIA NEGARA";
            position: absolute;
            top: -45px;
            right: 10px;
            background: #d63031;
            color: white;
            padding: 5px 10px;
            font-family: 'Special Elite', cursive;
            font-size: 0.8em;
            transform: rotate(5deg);
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        h2 {
            font-family: 'Special Elite', cursive;
            margin-top: 0;
            color: #d63031;
            border-bottom: 2px dashed #b2bec3;
            padding-bottom: 10px;
        }

        .story-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .highlight {
            background: #ffeaa7;
            padding: 2px 5px;
            font-weight: bold;
            border-radius: 3px;
        }

        /* --- INPUT AREA --- */
        .input-section {
            background: #2d3436;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #b2bec3;
            text-align: center;
            color: white;
        }

        input[type="number"] {
            padding: 15px;
            font-size: 1.5em;
            width: 150px;
            text-align: center;
            border-radius: 10px;
            border: none;
            background: #dfe6e9;
            font-family: 'Special Elite', cursive;
        }

        .submit-btn {
            background: #00b894;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 5px 0 #008f72;
            transition: transform 0.1s;
        }

        .submit-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #008f72;
        }

        /* --- CATATAN (CHEAT SHEET) --- */
        .notebook {
            display: none;
            margin-top: 20px;
            background: #fff;
            color: #333;
            padding: 15px;
            border-radius: 5px;
            font-size: 0.9em;
            border: 1px solid #ccc;
        }

        .toggle-note {
            background: #6c5ce7;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }

        /* --- STAMP EFFECT --- */
        .stamp {
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg) scale(0);
            border: 5px solid #00b894;
            color: #00b894;
            font-size: 3em;
            font-weight: bold;
            padding: 10px 20px;
            text-transform: uppercase;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
            z-index: 10;
            background: rgba(255,255,255,0.8);
        }

        .stamp.show {
            opacity: 1;
            transform: translate(-50%, -50%) rotate(-15deg) scale(1);
        }

    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="badge">üïµÔ∏è DETEKTIF UKURAN</div>
        <div class="badge">SKOR: <span id="score">0</span></div>
    </div>

    <div class="case-file">
        <h2 id="case-title">KASUS #1: JEJAK PENCURI</h2>
        <div class="stamp" id="stamp">KASUS DITUTUP</div>
        
        <p class="story-text" id="story">
            Loading kasus...
        </p>

        <div class="input-section">
            <label id="input-label" style="display:block; margin-bottom:10px;">Masukkan Kode Jawaban:</label>
            <input type="number" id="answer-input" placeholder="?">
            <span id="unit-label" style="font-size: 1.5em; font-weight:bold; margin-left:10px;">m</span>
            <br>
            <button class="submit-btn" onclick="checkAnswer()">PECAHKAN KASUS</button>
            <p id="feedback" style="margin-top:10px; font-weight:bold; min-height:20px;"></p>
        </div>
    </div>

    <button class="toggle-note" onclick="toggleNote()">üìì BUKA CATATAN DETEKTIF (Tangga Satuan)</button>
    
    <div class="notebook" id="notebook">
        <b>MANTRA:</b> Kucing Hitam DAlam Mobil Desi Centil Mondar-mandir<br>
        <hr>
        <b>km - hm - dam - m - dm - cm - mm</b><br>
        ‚¨áÔ∏è Turun = Tambah 0 (x10)<br>
        ‚¨ÜÔ∏è Naik = Buang 0 (:10)
    </div>
</div>

<script>
    // --- DATABASE SOAL CERITA ---
    const cases = [
        {
            title: "KASUS #1: PENGEJARAN",
            story: "Pencuri berlari sejauh <span class='highlight'>2 km</span> lalu bersembunyi. Polisi meminta laporan jarak dalam satuan <span class='highlight'>meter</span>. Berapa meter pencuri itu berlari?",
            val: 2,
            from: "km",
            to: "m",
            ans: 2000,
            hint: "km ke m turun 3 tangga. Tambahkan 3 nol."
        },
        {
            title: "KASUS #2: TALI JEBAKAN",
            story: "Kamu menemukan tali jebakan sepanjang <span class='highlight'>500 cm</span>. Untuk laporan, kamu harus mengubahnya menjadi <span class='highlight'>meter</span>. Berapa panjangnya?",
            val: 500,
            from: "cm",
            to: "m",
            ans: 5,
            hint: "cm ke m naik 2 tangga. Buang 2 nol."
        },
        {
            title: "KASUS #3: KODE BRANKAS",
            story: "Kode brankas adalah hasil penjumlahan: <span class='highlight'>1 km + 400 m</span>. Masukkan hasilnya dalam satuan <span class='highlight'>meter</span>!",
            val: 0, // Logic khusus
            from: "mix",
            to: "m",
            ans: 1400,
            hint: "Ubah 1 km jadi 1000 m dulu. Lalu tambah 400."
        },
        {
            title: "KASUS #4: MENARA PENGAWAS",
            story: "Tinggi menara adalah <span class='highlight'>40 hm</span> (hektometer). Komandan minta data dalam <span class='highlight'>km</span>. Berapa km tingginya?",
            val: 40,
            from: "hm",
            to: "km",
            ans: 4,
            hint: "hm ke km naik 1 tangga. Buang 1 nol."
        },
        {
            title: "KASUS #5: MISTERI PETA",
            story: "Di peta tertulis jarak <span class='highlight'>3 km</span>. Tapi kita butuh satuan <span class='highlight'>dam</span> (dekameter) untuk menyetel mesin bor. Berapa dam?",
            val: 3,
            from: "km",
            to: "dam",
            ans: 300,
            hint: "km ke dam turun 2 tangga. Tambah 2 nol."
        }
    ];

    let currentCase = 0;
    let score = 0;

    function loadCase() {
        const data = cases[currentCase];
        document.getElementById('case-title').innerText = data.title;
        document.getElementById('story').innerHTML = data.story;
        document.getElementById('unit-label').innerText = data.to;
        document.getElementById('answer-input').value = "";
        document.getElementById('feedback').innerText = "";
        document.getElementById('stamp').classList.remove('show');
    }

    function checkAnswer() {
        const userAns = parseInt(document.getElementById('answer-input').value);
        const data = cases[currentCase];
        const feedback = document.getElementById('feedback');

        if (userAns === data.ans) {
            // BENAR
            feedback.innerHTML = "‚úÖ KASUS TERPECAHKAN!";
            feedback.style.color = "#00b894";
            document.getElementById('stamp').classList.add('show');
            score += 100;
            document.getElementById('score').innerText = score;

            // Lanjut soal setelah jeda
            setTimeout(() => {
                currentCase++;
                if (currentCase < cases.length) {
                    loadCase();
                } else {
                    endGame();
                }
            }, 2000);

        } else {
            // SALAH
            feedback.innerHTML = `‚ùå SALAH! Petunjuk: ${data.hint}`;
            feedback.style.color = "#d63031";
            // Efek getar
            document.querySelector('.input-section').style.transform = "translateX(10px)";
            setTimeout(() => {
                document.querySelector('.input-section').style.transform = "translateX(0px)";
            }, 100);
        }
    }

    function toggleNote() {
        const note = document.getElementById('notebook');
        if (note.style.display === 'block') {
            note.style.display = 'none';
        } else {
            note.style.display = 'block';
        }
    }

    function endGame() {
        document.querySelector('.container').innerHTML = `
            <div class="case-file" style="text-align:center; transform:rotate(0deg);">
                <h1 style="color:#0984e3;">MISI SELESAI!</h1>
                <p style="font-size:5em; margin:20px;">üïµÔ∏è‚Äç‚ôÇÔ∏è</p>
                <h2>SKOR AKHIR: ${score}</h2>
                <p>Kamu resmi diangkat menjadi <b>DETEKTIF UKURAN MASTER!</b></p>
                <button class="submit-btn" onclick="location.reload()">MAIN LAGI</button>
            </div>
        `;
    }

    // Mulai Game
    loadCase();

</script>

</body>
</html>